## Задача: Рефакторинг и исправление поиска eBay
- **Статус**: Завершена
- **Описание**: Полностью переработана и исправлена логика взаимодействия с API eBay, добавлена новая функциональность и обеспечена стабильность работы.
- **Шаги выполнения**:
  - [x] Реализовать для пользователей возможность выбора типа поиска (`ACTIVE`, `SOLD`, `ENDED`).
  - [x] Разделить логику вызовов на `Browse API` (для `ACTIVE`) и `Finding API` (для `SOLD`/`ENDED`).
  - [x] Исправить механизм аутентификации для каждого типа API, устранив ошибки `invalid_client` и `RateLimiter`.
  - [x] Ввести последовательную обработку запросов с задержкой для соблюдения лимитов API.
  - [x] Создать единый маппер для унификации структуры данных от разных API.
  - [x] Устранить все ошибки компиляции TypeScript и потенциальные ошибки времени выполнения.
  - [x] Добавить модульные тесты для проверки основной логики взаимодействия с API.
- **Зависимости**: Нет
- ## Задача: Аудит и улучшение обработки ошибок в асинхронных функциях
- **Статус**: Завершена
- **Описание**: Проверка всех асинхронных функций на предмет обработки ошибок с использованием `try-catch-finally` блоков и улучшение логирования/обработки ошибок для повышения стабильности приложения.
- **Шаги выполнения**:
  - [x] Документирование задачи.
  - [x] Аудит `src/ebayApi.ts`.
  - [x] Аудит `src/ebay.ts`.
  - [x] Аудит `src/bot.ts`.
  - [x] Внедрение/улучшение `try-catch-finally` и логирования ошибок.
- **Зависимости**: Отсутствуют

## Задача: Исправление тестов после рефакторинга
- **Статус**: В процессе
- **Описание**: Адаптация существующих тестов к изменениям, внесенным в основной код (изменение сигнатур функций, логики параллельной обработки, улучшенная обработка ошибок).
- **Шаги выполнения**:
  - [x] Идентификация затронутых тестовых файлов.
  - [x] Анализ изменений в тестовых файлах.
  - [x] Внесение исправлений в тестовые файлы: `__tests__/ebayApi.test.ts` (исправление `TypeError` и `ReferenceError` путем пересмотра стратегии мокирования).
  - [ ] Внесение исправлений в тестовые файлы: `__tests__/ebay.test.ts` (требуется дальнейшая отладка).
  - [ ] Внесение исправлений в тестовые файлы: `__tests__/bot.test.ts` (требуется дальнейшая отладка).
  - [ ] Внесение исправлений в тестовые файлы: `__tests__/ebay.ispec.ts` (требуется дальнейшая отладка).
  - [ ] Внесение исправлений в тестовые файлы: `__tests__/excel.test.ts` (требуется дальнейшая отладка).
  - [ ] Внесение исправлений в тестовые файлы: `__tests__/test-api.ts` (требуется дальнейшая отладка).
  - [x] Аудит `__tests__/utils.test.ts` (изменения не требуются).
- **Зависимости**: Отсутствуют
